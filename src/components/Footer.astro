---
---

<footer class="mt-32 border-t border-[var(--grid-line)] py-24 px-[4vw] relative">
    <div class="flex flex-col md:flex-row justify-between gap-12 pt-12">
        <div class="flex flex-col justify-between h-48">
            <div class="text-sm font-mono opacity-50">EST. 2025</div>
            <div class="text-xs uppercase tracking-widest">
                设计 by <br>
                数字荒原
            </div>
        </div>
        
        <div class="flex flex-col md:flex-row justify-between items-start md:items-end gap-8 md:gap-12">
            <div class="flex gap-8 md:gap-12 text-sm font-mono uppercase flex-wrap">
                <a href="/rss.xml" class="hover:text-[var(--accent)] flex items-center gap-2" title="RSS 订阅">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg>
                    RSS
                </a>
                <a href="https://twitter.com" class="hover:text-[var(--accent)]" target="_blank" rel="noopener">Twitter</a>
                <a href="https://github.com" class="hover:text-[var(--accent)]" target="_blank" rel="noopener">Github</a>
            </div>
            
            <button 
                id="scroll-to-top"
                class="w-14 h-14 border border-[var(--grid-line)] flex items-center justify-center rounded-full hover:bg-[var(--accent)] hover:text-white hover:border-transparent transition-colors duration-300"
                title="返回顶部"
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m18 15-6-6-6 6"/>
                </svg>
            </button>
        </div>
    </div>
</footer>

<script>
    function initScrollToTop() {
        const btn = document.getElementById('scroll-to-top');
        if (btn) {
            btn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }
    }
    
    function initMusicToggle() {
        // This toggle in footer is a secondary trigger
        // The main logic is in MusicPlayer/index.astro, but we need to trigger it here
        const footerBtn = document.getElementById('music-toggle-footer');
        const playerPanel = document.getElementById('music-panel');
        const capsule = document.getElementById('music-capsule');
        
        if (footerBtn && playerPanel) {
            footerBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                playerPanel.classList.toggle('active');
                if (capsule) capsule.classList.remove('expanded');
            });
        }
    }

    initScrollToTop();
    initMusicToggle();
    document.addEventListener('astro:page-load', () => {
        initScrollToTop();
        initMusicToggle();
    });
</script>
